<h1 class="dashboard--title">Configuración</h1>

<form [formGroup]="formGroup" (ngSubmit)="updateConfiguracion()" class="container">
    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Nombre del Sitio
        </label>

        <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="siteName" />
        </div>
    </div>

    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Slogan del Sitio
        </label>

        <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="slogan" />
        </div>
    </div>

    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Dirección del Sitio
        </label>

        <div class="col-sm-10">
            <input type="text" class="form-control" formControlName="url"
                [ngClass]="{'form-control-plaintext': formGroup.value?.url}" />
        </div>
    </div>

    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Modo Mantenimiento <br>
            <i>Esto hará al Sitio inaccesible a los usuarios. Si quiere, también puede introducir un breve mensaje
                (<b>600</b> <b> caracteres</b>) para mostrar.</i>
        </label>

        <div class="col-sm-10">
            <mat-slide-toggle formControlName="maintenanceMode" color="primary"></mat-slide-toggle>
            <textarea rows="4" class="form-control mt-2" formControlName="maintenanceMessage"></textarea>
        </div>
    </div>

    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Deshabilitar el registro de usuarios <br>
            <i>Esto hará que en el sitio no se puedan registrar más usuarios.</i>
        </label>

        <div class="col-sm-10">
            <mat-slide-toggle formControlName="disableUserRegistration" color="primary"></mat-slide-toggle>
            <textarea rows="4" class="form-control mt-2" formControlName="disableUserRegistrationMessage"></textarea>
        </div>
    </div>

    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Usuario Online <span>(minutos)</span> <br>
            <i>Tiempo que debe trascurrir para considerar que un usuario está en linea.</i>
        </label>

        <div class="col-sm-10">
            <input type="number" class="form-control" formControlName="onlineUsersTime" />
        </div>
    </div>

    <hr>

    <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
            Darle la bienvenida al usuario<br>
            <i>Crear un mensaje en el perfil del usuario recien registrado.</i>

            <br><br>
            <mat-slide-toggle formControlName="welcomeActivated" color="primary"></mat-slide-toggle>
        </label>

        <div class="col-sm-10">
            <label>Seleccione el usuario que dará la bienvenida</label>
            <ng-select [items]="administradores" bindLabel="userName" bindValue="id" formControlName="welcomeUserId"></ng-select>

            <br>
            <label>Mensaje</label>
            <textarea class="form-control" formControlName="welcomeMessage" rows="3"></textarea>
        </div>
    </div>

    <div class="form-container--footer text-center mb-3">
        <button mat-flat-button color="primary" type="submit">
            <mat-icon>save</mat-icon> Guardar
        </button>
    </div>
</form>